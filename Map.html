<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Map</title>

    <link rel="stylesheet" href="Map.css">
    <style>
       html,body{
            width: 100%;
            height: 100%;
        }


    </style>
    <!--加载高德地图-->
    <!--<script src="https://webapi.amap.com/maps?v=1.4.11&key=501c9ef49f34ed644919c827c3d98b98"></script>-->

    <!--加载百度地图-->
    <!--<script type="text/javascript" src="http://api.map.baidu.com/getscript?type=quick&file=api&ak=oXec3eMiIws1586v9MuGfr7GuTTVtmPB"></script>-->
    <!--<script type="text/javascript" src="http://api.map.baidu.com/getscript?type=quick&file=feature&ak=oXec3eMiIws1586v9MuGfr7GuTTVtmPB"></script>-->
    <!--<script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=oXec3eMiIws1586v9MuGfr7GuTTVtmPB"></script>-->

    <!--<script src="dbfx.js"></script>-->
    <script src="https://lc.dbazure.cn/dbfx/dbfx.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.data.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.commodel.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.serializer.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.net.js"></script>
    <script src="https://lc.dbazure.cn/dbfx/dbfx.resources.js"></script>

    <script src="https://lc.dbazure.cn/dbfx/dbfx.commodel.js"></script>

    <script src="https://lc.dbazure.cn/dbfx/dbfx.serializer.js"></script>
    <script src="https://lc.dbazure.cn/dbfxui/dbfx.web.controls.js"></script>
    <script src="https://lc.dbazure.cn/dbfxui/dbfx.web.layoutcontrols.js"></script>
    <script src="https://lc.dbazure.cn/dbfxui/dbfx.web.navigation.js"></script>

    <!--<script src="https://lc.dbazure.cn/dbfx/dbfx.app.js"></script>-->


    <!--<script src="https://api.map.baidu.com/api?v=2.0&ak=oXec3eMiIws1586v9MuGfr7GuTTVtmPB" type="text/javascript"></script>-->

    <script src="Map.js"></script>

</head>
<body>
<div id="div" style="height:80%;width: 100%;border: 1px solid #ffaa30"></div>
<div id="btn" style="height:40px;width: 100px;border: 1px solid #ffaa30">btn</div>
<div id="btn01" style="height:40px;width: 100px;border: 1px solid #6786ff">搜索附近兴趣点</div>
<div id="btn02" style="height:40px;width: 100px;border: 1px solid #ffd2bc">设置地图显示中心</div>
<div id="btn03" style="height:40px;width: 100px;border: 1px solid #ffd2bc">热力图</div>
<input type="text" tabindex="1">
<input type="text" tabindex="2">
<input type="text" tabindex="3">
<input type="text" tabindex="4">
<input type="text" tabindex="5">

<script>
    var divE = document.getElementById("div");
    var map1 = new DBFX.Web.Controls.Map();
    divE.appendChild(map1.VisualElement);
    map1.Width = "1000px";
    map1.Height = "800px";

    map1.ShoTools = true;
    map1.ShowLogo = false;
    // map1.ShowCR = false;
    // map1.Zoom = 11;
    map1.ShowScale = true;
    // map1.ShowToolBar = false;
    map1.ShowToolBar = true;
    map1.ShowToolBar = false;
    map1.ShowScale = false;
    map1.ShowScale = true;
    map1.ShowScale = true;
    map1.ShowScale = true;
    map1.ShowScale = false;
    // map1.ShowOverView = true;
    // map1.ShowMapType = true;



    setTimeout(function () {

        //
        // map1.DragEnable = false;
        // map1.DoubleClickZoom = false;
        // map1.Zoom = 4;


        // map1.MapStyle = "DisProvince";

        // map1.SwitchCountry("RUS");

        // map1.Zoom = 4;

    },1000);

    map1.MapStyle = "DisProvince";

    var dataSet = {
        options:{
            radius: 25, //给定半径
            opacity: [0, 0.8],//透明度范围
            gradient: {         //设置渐变色
                0.5: 'blue',
                0.65: 'rgb(117,211,248)',
                0.7: 'rgb(0, 255, 0)',
                0.9: '#ffea00',
                1.0: 'red'
            }},
        data: [{
            "lng": 116.191031,//经度值
            "lat": 39.988585,//纬度值
            "count": 10       //数值
        }, {
            "lng": 116.389275,
            "lat": 39.925818,
            "count": 11
        }, {
            "lng": 116.287444,
            "lat": 39.810742,
            "count": 12
        }, {
            "lng": 116.481707,
            "lat": 39.940089,
            "count": 13
        }, {
            "lng": 116.410588,
            "lat": 39.880172,
            "count": 14
        }, {
            "lng": 116.394816,
            "lat": 39.91181,
            "count": 15
        }, {
            "lng": 116.416002,
            "lat": 39.952917,
            "count": 16
        }, {
            "lng": 116.39671,
            "lat": 39.924903,
            "count": 17
        }, {
            "lng": 116.180816,
            "lat": 39.957553,
            "count": 18
        }, {
            "lng": 116.382035,
            "lat": 39.874114,
            "count": 19
        }, {
            "lng": 116.316648,
            "lat": 39.914529,
            "count": 20
        }, {
            "lng": 116.395803,
            "lat": 39.908556,
            "count": 21
        }],
        max: 20             //最大值
    }
    map1.HeatMapData = dataSet;





    var pos1 = {lng:125.292078,lat:43.828768,title:"biaoqian1",label:"吉林省长春市"};
    var pos2 = {lng:125.293237,lat:43.829929};
    var pos3 = {lng:125.297002,lat:43.836182};
    var pos4 = {lng:125.319533,lat:43.858404};
    var pos5 = {lng:125.319233,lat:43.87638};

    var arr = new Array();
    arr.push(pos1,pos2,pos3,pos4,pos5);
    // map1.DrawTruckRoute(arr);

    var btn = document.getElementById("btn");
    btn.onclick = function (ev) {
        // map1.DrawTruckRoute(arr);
        map1.LoadMarkers(arr);
    }



    var btn01 = document.getElementById("btn01");
    btn01.onclick = function (ev) {
         var config = {
                //兴趣点类型 多个用|分隔
                type:"餐饮|酒店|电影院",
                //每页显示数据数
                pageSize:5,
                //默认显示页数
                pageIndex:1,
                //兴趣点城市码
                city:"010",
                //是否自动调整地图视野使绘制的 Marker点都处于视口的可见范围
                autoFitView:true,
                //LngLat-中心点坐标
                cpoint:[116.405467, 39.907761],
                //搜索半径 取值范围0-50000
                radius:2000
            }
        map1.PlaceSearchNearBy(config);
    }


    var btn02 = document.getElementById("btn02");
    btn02.onclick = function (ev) {
        map1.setMapCenter([116.405467, 39.907761]);
    }


    var btn03 = document.getElementById("btn03");
    btn03.onclick = function (ev) {
        // map1.MapStyle = "DisCountry";
        console.log("热力图");
        //设置数据集：该数据为北京部分“公园”数据
        var dataSet = {
            data: [{
                "lng": 116.191031,
                "lat": 39.988585,
                "count": 10
            }, {
                "lng": 116.389275,
                "lat": 39.925818,
                "count": 11
            }, {
                "lng": 116.287444,
                "lat": 39.810742,
                "count": 12
            }, {
                "lng": 116.481707,
                "lat": 39.940089,
                "count": 13
            }, {
                "lng": 116.410588,
                "lat": 39.880172,
                "count": 14
            }, {
                "lng": 116.394816,
                "lat": 39.91181,
                "count": 15
            }, {
                "lng": 116.416002,
                "lat": 39.952917,
                "count": 16
            }, {
                "lng": 116.39671,
                "lat": 39.924903,
                "count": 17
            }, {
                "lng": 116.180816,
                "lat": 39.957553,
                "count": 18
            }, {
                "lng": 116.382035,
                "lat": 39.874114,
                "count": 19
            }, {
                "lng": 116.316648,
                "lat": 39.914529,
                "count": 20
            }, {
                "lng": 116.395803,
                "lat": 39.908556,
                "count": 21
            }],
            max: 20
        }
        map1.HeatMap(dataSet);
    }

    // var map2 = new DBFX.Web.Controls.Map();
    // divE.appendChild(map2.VisualElement);
    // map.OnLoad();
    // map.LoadMap();



    Msg = {
        m:0,            //消息模式  0--不需要显示到设备的本地消息 1—需要显示到设备的本地消息
        f:0,            //提醒方式 0—无声音、无震动、无闪光 1—声音 2—震动 3—闪光灯 4—声音震动 5—声音、震动、闪光
        title:"消息标题",  //消息标题 消息模式m=1时是必填项目，否则可以不设置此属性
        body:"消息内容",  //消息内容 消息模式m=1时必填，否则可以不设置此属性
        badge:0,        //消息标识 用于显示在应用图标右上角的标记数量
        appid:"",       //应用标识d 向某一应用程序推送消息
        msgid:"",       //消息类型编号 客户端可监听某一类型的消息并处理
        ud:{}           //此属性为用户自定义的其它数据，开发者可根据需要定义一些内容
    }

    var a = [1,5,1,3,4,1,2,4,2,4,1,5,7,6];

    var r = a.filter(function (e,i,self) {
        return self.indexOf(e)===i;
    });

    var aee = new Array();
    aee.indexOf("a");
    // var arr = [];
    // arr.push(23,45);
    // console.log(arr);

    console.log(JSON.stringify({"count":"1.6666"*1}));
    console.log(JSON.stringify(JSON.stringify({"count":"1.6666"*1})));


</script>

</body>
</html>